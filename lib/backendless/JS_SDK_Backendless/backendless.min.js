(function(){function h(){return"undefined"!==typeof window}function s(a,b){void 0!==a.nextPage&&(a.nextPage&&a.nextPage.split("/")[1]==e.appVersion&&(a.nextPage=e.serverURL+a.nextPage),a._nextPage=a.nextPage,a.nextPage=function(a){return b._load(this._nextPage,a)},a.getPage=function(a,d,f){var m=this._nextPage.replace(/offset=\d+/ig,"offset="+a);d instanceof n?f=d:m=m.replace(/pagesize=\d+/ig,"pageSize="+d);f=l(arguments);return b._load(m,f)},a.dataMapper=b)}function n(a,b,c){b instanceof Function||
(c=b,b=u);this.success=function(b){a&&a.call(c,b)};this.fault=function(a){b&&b.call(c,a)}}function t(){this.properties=[];this.url=this.options=this.condition=null}function z(a){this.model=a;this.className=w.call(a);"string"===(typeof a).toLowerCase()&&(this.className=a);if(!this.className)throw"Class name should be specified";this.restUrl=e.appPath+"/data/"+this.className}function G(){}function H(){this.restUrl=e.appPath+"/geo"}function A(){}function B(a){this.eventHandlers={};this.restUrl=a;this.timeout=
    this.timer=0;this.interval=1E3;this.xhr=null;this.needReconnect=!0;this.responder=new n(this.onMessage,this.onError,this);this.poll()}function C(a){var b=this;this.reconnectWithPolling=!0;try{var c=this.socket=new I(a);c.onopen=function(){return b.sockOpen()};c.onerror=function(a){return b.sockError(a)};c.onclose=function(a){b.onSocketClose()};c.onmessage=function(a){return b.onMessage(a)}}catch(d){setTimeout(function(){b.onSocketClose()},100)}}function D(a){this.channelName=a.channelName;this.options=
    a.options;this.channelProperties=a.channelProperties;this.subscriptionId=null;this.restUrl=a.restUrl+"/"+a.channelName;this.responder=a.responder||u;this._subscribe(a.onSubscribe)}function J(){this.restUrl=e.appPath+"/messaging";this.channelProperties={}}function K(a,b,c){var d;d="--"+c;d+="\r\n";d+='Content-Disposition: form-data; name="file"';d+='; filename="'+a+'"';d+="\r\n";d+="Content-Type: application/octet-stream";d+="\r\n";d+="\r\n";d+=b;d+="\r\n";d+="--";d+=c;d+="--";return d+="\r\n"}function R(a){var b=
    new XMLHttpRequest,c="-backendless-multipart-form-boundary-"+(new Date).getTime();a=K(this.fileName,a.target.result,c);b.open("POST",this.uploadPath,!0);b.setRequestHeader("content-type","multipart/form-data; boundary="+c);b.setRequestHeader("application-id",e.applicationId);b.setRequestHeader("secret-key",e.secretKey);b.setRequestHeader("application-type","JS");null!==v&&b.setRequestHeader("uiState",v);var d=this.asyncHandler;d&&(b.onreadystatechange=function(){4==b.readyState&&(200<=b.status&&300>
b.status?d.success(JSON.parse(b.responseText)):d.fault(JSON.parse(b.responseText)))});b.sendAsBinary(a);if(d)return b;if(200<=b.status&&300>b.status)return b.responseText?JSON.parse(b.responseText):!0;throw function(a){var b={};try{b=JSON.parse(a.responseText)}catch(c){b.message=a.responseText}b.statusCode=a.status;return b}(b);}function S(a){var b=new XMLHttpRequest,c="-backendless-multipart-form-boundary-"+(new Date).getTime();K(this.fileName,a.target.result,c);b.open("PUT",this.uploadPath,!0);
    b.setRequestHeader("Content-Type","text/plain");b.setRequestHeader("application-id",e.applicationId);b.setRequestHeader("secret-key",e.secretKey);b.setRequestHeader("application-type","JS");null!==v&&b.setRequestHeader("uiState",v);var d=this.asyncHandler;d&&(b.onreadystatechange=function(){4==b.readyState&&(200<=b.status&&300>b.status?d.success(JSON.parse(b.responseText)):d.fault(JSON.parse(b.responseText)))});b.send(a.target.result.split(",")[1]);if(d)return b;if(200<=b.status&&300>b.status)return b.responseText?
        JSON.parse(b.responseText):!0;throw function(a){var b={};try{b=JSON.parse(a.responseText)}catch(c){b.message=a.responseText}b.statusCode=a.status;return b}(b);}function L(){this.restUrl=e.appPath+"/files"}function x(){this.restUrl=e.appPath+"/commerce/googleplay"}function E(){this.restUrl=e.appPath+"/servercode/events"}NodeDevice={name:"NODEJS",platform:"NODEJS",uuid:"someId",version:"1"};h()||(encodeURIComponent=function(a){return escape(a)});var e=this.Backendless||{},u=function(){};this.Backendless=
    e;Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),f=d.length>>>0;if(0===f)return-1;c=+b||0;Infinity===Math.abs(c)&&(c=0);if(c>=f)return-1;for(c=Math.max(0<=c?c:f-Math.abs(c),0);c<f;){if(c in d&&d[c]===a)return c;c++}return-1});var T=Object.prototype.hasOwnProperty,M=Array.prototype.forEach,U=Array.isArray,I=null;e.VERSION="0.2";e.serverURL="https://api.backendless.com";(function(){try{"undefined"==
typeof XMLHttpRequest.prototype.sendAsBinary&&(XMLHttpRequest.prototype.sendAsBinary=function(a){for(var c=new ArrayBuffer(a.length),c=new Uint8Array(c,0),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;this.send(c)})}catch(a){}})();var V=function(){var a=h()?navigator.userAgent.toLowerCase():"NodeJS",b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||
    [],a=b[1]||"",b=b[2]||"0",c={};a&&(c[a]=!0,c.version=b);return c}(),v=null;e.browser=V;var g=e.Utils={isObject:function(a){return a===Object(a)},isString:function(a){return"String"===Object.prototype.toString.call(a).slice(8,-1)},isNumber:function(a){return"Number"===Object.prototype.toString.call(a).slice(8,-1)},isFunction:function(a){return"Function"===Object.prototype.toString.call(a).slice(8,-1)},isBoolean:function(a){return"Boolean"===Object.prototype.toString.call(a).slice(8,-1)},isDate:function(a){return"Date"===
    Object.prototype.toString.call(a).slice(8,-1)}};g.isArray=U||function(a){return"Array"===Object.prototype.toString.call(a).slice(8,-1)};g.addEvent=function(a,b,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c};g.isEmpty=function(a){if(null==a)return!0;if(g.isArray(a)||g.isString(a))return 0===a.length;for(var b in a)if(a.hasOwnProperty(b)&&void 0!==a[b]&&null!==a[b])return!1;return!0};g.removeEvent=function(a,b){b.removeEventListener?b.removeEventListener(a,
    null,!1):b.detachEvent?b.detachEvent("on"+a,null):b[a]=null};g.forEach=function(a,b,c){if(a)if(M&&a.forEach===M)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,f=a.length;d<f&&!(d in a&&b.call(c,a[d],d,a)===breaker);d++);else for(d in a)if(T.call(a,d)&&b.call(c,a[d],d,a)===breaker)break};e.setUIState=function(a){if(void 0===a)throw Error("UI state name must be defined or explicitly set to null");v=null===a?null:a};e._ajax_for_browser=function(a){var b=["cacheOnly","remoteDataOnly","fromCacheOrRemote",
    "fromRemoteOrCache","fromCacheAndRemote"],c={ignoreCache:function(a){return d(a)},cacheOnly:function(a){var b=e.LocalCache.get(a.url.replace(/([^A-Za-z0-9])/g,"")),c={message:"error: cannot find data in Backendless.LocalCache",statusCode:404};if(b)return a.isAsync&&a.asyncHandler.success(b),b;if(a.isAsync)a.asyncHandler.fault(c);else throw c;},remoteDataOnly:function(a){return d(a)},fromCacheOrRemote:function(a){var b=e.LocalCache.get(a.url.replace(/([^A-Za-z0-9])/g,""));return b?(a.isAsync&&a.asyncHandler.success(b),
    b):d(a)},fromRemoteOrCache:function(a){return d(a)},fromCacheAndRemote:function(a){var b={},c=e.LocalCache.get(a.url.replace(/([^A-Za-z0-9])/g,"")),f={message:"error: cannot find data in Backendless.LocalCache",statusCode:404};b.remote=d(a);if(c)a.isAsync&&a.asyncHandler.success(c),b.local=c;else if(a.isAsync)a.asyncHandler.fault(f);else throw f;return b}},d=function(a){var b=new XMLHttpRequest,c=a.data?"application/json":"application/x-www-form-urlencoded",d,f=function(a){var b=!0;if(a.responseText)try{b=
    JSON.parse(a.responseText)}catch(c){b=a.responseText}return b},l=function(a){var b={};try{b=JSON.parse(a.responseText)}catch(c){b.message=a.responseText}b.statusCode=a.status;b.message=b.message||"unknown error occurred";return b},h=function(b){b=g.isArray(b)?b.slice():q({},b);"GET"==a.method&&a.cacheActive?(b.cachePolicy=a.cachePolicy,e.LocalCache.set(a.urlBlueprint,b)):e.LocalCache.exists(a.urlBlueprint)&&(!0===b||"DELETE"==a.method?b=void 0:b.cachePolicy=e.LocalCache.getCachePolicy(a.urlBlueprint),
"___class"in b&&delete b.___class,e.LocalCache.set(a.urlBlueprint,b))},n=function(){return a.cacheActive&&"fromRemoteOrCache"==a.cachePolicy.policy&&e.LocalCache.exists(a.urlBlueprint)};b.open(a.method,a.url,a.isAsync);b.setRequestHeader("Content-Type",c);b.setRequestHeader("application-id",e.applicationId);b.setRequestHeader("secret-key",e.secretKey);b.setRequestHeader("application-type","JS");null!=p&&p["user-token"]?b.setRequestHeader("user-token",p["user-token"]):e.LocalCache.exists("user-token")&&
b.setRequestHeader("user-token",e.LocalCache.get("user-token"));null!==v&&b.setRequestHeader("uiState",v);a.isAsync&&(b.onreadystatechange=function(){4==b.readyState&&(200<=b.status&&300>b.status?(d=f(b),h(d),a.asyncHandler.success&&a.asyncHandler.success(d)):n()?a.asyncHandler.success&&a.asyncHandler.success(e.LocalCache.get(a.urlBlueprint)):a.asyncHandler.fault&&a.asyncHandler.fault(l(b)))});b.send(a.data);if(a.isAsync)return b;if(200<=b.status&&300>b.status)return d=f(b),h(d),d;if(n())return e.LocalCache.get(a.urlBlueprint);
    throw l(b);};a.method=a.method||"GET";a.cachePolicy=a.cachePolicy||{policy:"ignoreCache"};a.isAsync="boolean"==typeof a.isAsync?a.isAsync:!1;a.cacheActive="GET"==a.method&&-1!=b.indexOf(a.cachePolicy.policy);a.urlBlueprint=a.url.replace(/([^A-Za-z0-9])/g,"");try{return c[a.cachePolicy.policy].call(this,a)}catch(f){throw console.log("error: "+f.message),f;}};e._ajax_for_nodejs=function(a){a.data=a.data||"";"string"!==typeof a.data&&(a.data=JSON.stringify(a.data));a.asyncHandler=a.asyncHandler||{};
    a.isAsync="boolean"==typeof a.isAsync?a.isAsync:!1;var b=a.url.substr(0,a.url.indexOf("/",8)).substr(0,a.url.indexOf(":")),c=a.url.substr(0,a.url.indexOf("/",8)).substr(a.url.indexOf("/")+2),d=c.substr(0,-1==c.indexOf(":")?c.length:c.indexOf(":")),c=-1!=c.indexOf(":")?parseInt(c.substr(c.indexOf(":")+1)):"http"==b?80:443,d={host:d,port:c,method:a.method||"GET",path:a.url.substr(a.url.indexOf("/",8)),headers:{"Content-Length":a.data?a.data.length:0,"Content-Type":a.data?"application/json":"application/x-www-form-urlencoded",
        "application-id":e.applicationId,"secret-key":e.secretKey,"application-type":"JS"}};null!=p&&(d.headers["user-token"]=p["user-token"]);b=a.isAsync?require(b).request(d,function(b){b.setEncoding("utf8");b.on("data",function(b){a.asyncHandler.success(b)})}):require("httpsync").request(d);b.on("error",function(b){a.asyncHandler.fault||(a.asyncHandler.fault=function(){});a.asyncHandler.fault(b)});b.write(a.data,"utf8");return b.end()};e._ajax=h()?e._ajax_for_browser:e._ajax_for_nodejs;var w=function(){var a=
    (g.isFunction(this)?this.toString():this.constructor.toString()).match(/function\s+(\w+)/);return a&&1<a.length?a[1]:""},y=function(a){var b=[],c,d;c=0;for(d=a.length;c<d;++c)b.push(encodeURIComponent(a[c]));return b.join(",")},X=function(a){var b=function(a){var b=null,c=null,e;for(e in a)if(a.hasOwnProperty(e)&&"___class"===e){b=a[e];break}if(b)try{c=eval(b),a=q(new c,a)}catch(g){}return a};if(g.isObject(a)&&null!=a)if(g.isArray(a))for(var c=a.length;c--;)a[c]=b(a[c]);else a=b(a);return a},q=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                b){for(var c in b)void 0!==b[c]&&b.hasOwnProperty(c)&&(a[c]=a[c]||{},a[c]=X(b[c]));return a},l=function(a){var b,c;b=0;for(c=a.length;b<c;++b)if(a[b]instanceof n)return a[b];return null};e.LocalCache=function(){var a={},b;a.enabled=!1;a.exists=function(a){};a.set=function(a,b){};a.get=function(a){};a.remove=function(a){};a.clear=function(){};a.flushExpired=function(){};a.getCachePolicy=function(a){};a.getAll=function(){};a.serialize=function(a){return JSON.stringify(a)};a.deserialize=function(a){if("string"==
    typeof a)try{return JSON.parse(a)}catch(b){return a||void 0}};if(function(){try{return h()&&"localStorage"in window&&window.localStorage?(localStorage.setItem("localStorageTest",!0),localStorage.removeItem("localStorageTest"),!0):!1}catch(a){return!1}}()){b=window.localStorage;var c=function(){"Backendless"in b||b.setItem("Backendless",a.serialize({}))},d=function(a){var b=!1;"Object"==Object.prototype.toString.call(a).slice(8,-1)&&"cachePolicy"in a&&("timeToLive"in a.cachePolicy&&-1!=a.cachePolicy.timeToLive&&
"created"in a.cachePolicy)&&(b=(new Date).getTime()-a.cachePolicy.created>a.cachePolicy.timeToLive);return b};c();a.enabled=!0;a.exists=function(b){return void 0!==a.get(b)};a.set=function(d,e){if(void 0===e)return a.remove(d);c();var k=a.deserialize(b.getItem("Backendless"));"Object"==Object.prototype.toString.call(e).slice(8,-1)&&"cachePolicy"in e&&"timeToLive"in e.cachePolicy&&(e.cachePolicy.created=(new Date).getTime());k[d]=e;try{b.setItem("Backendless",a.serialize(k))}catch(g){k={},k[d]=e,b.setItem("Backendless",
    a.serialize(k))}return e};a.get=function(f){c();var e=a.deserialize(b.getItem("Backendless")),k=e[f],g=k;d(k)&&(delete e[f],b.setItem("Backendless",a.serialize(e)),g=void 0);g&&g.cachePolicy&&delete g.cachePolicy;return g};a.remove=function(d){var e;c();d=d.replace(/([^A-Za-z0-9-])/g,"");var k=a.deserialize(b.getItem("Backendless"));k.hasOwnProperty(d)&&(e=delete k[d]);b.setItem("Backendless",a.serialize(k));return e};a.clear=function(){b.setItem("Backendless",a.serialize({}))};a.getAll=function(){c();
    var d=a.deserialize(b.getItem("Backendless")),e={},k;for(k in d)d.hasOwnProperty(k)&&(e[k]=d[k],null!==e[k]&&e[k].hasOwnProperty("cachePolicy")&&delete e[k].cachePolicy);return e};a.flushExpired=function(){c();var f=a.deserialize(b.getItem("Backendless")),e,k;for(k in f)f.hasOwnProperty(k)&&(e=f[k],d(e)&&(delete f[k],b.setItem("Backendless",a.serialize(f))))};a.getCachePolicy=function(d){c();return(d=a.deserialize(b.getItem("Backendless"))[d])?d.cachePolicy:void 0}}return a}();e.LocalCache.enabled&&
e.LocalCache.flushExpired();e.Async=n;t.prototype={addProperty:function(a){this.properties=this.properties||[];this.properties.push(a)}};e.DataQuery=t;z.prototype={_extractQueryOptions:function(a){var b=[];if("undefined"!=typeof a.pageSize){if(1>a.pageSize||100<a.pageSize)throw Error("PageSize can not be less then 1 or greater than 100");b.push("pageSize="+encodeURIComponent(a.pageSize))}if(a.offset){if(0>a.offset)throw Error("Offset can not be less then 0");b.push("offset="+encodeURIComponent(a.offset))}a.sortBy&&
(g.isString(a.sortBy)?b.push("sortBy="+encodeURIComponent(a.sortBy)):g.isArray(a.sortBy)&&b.push("sortBy="+y(a.sortBy)));a.relationsDepth&&g.isNumber(a.relationsDepth)&&b.push("relationsDepth="+encodeURIComponent(Math.floor(a.relationsDepth)));a.relations&&g.isArray(a.relations)&&b.push("loadRelations="+(a.relations.length?y(a.relations):"*"));return b.join("&")},_wrapAsync:function(a){var b=this;return new n(function(c){c=b._parseResponse(c);a.success(c)},function(b){a.fault(b)})},_parseResponse:function(a){var b=
    this.model;a=a.fields||a;b=new b;s(a,this);q(b,a);return this._formCircDeps(b)},_parseFindResponse:function(a){var b,c=this.model,d;if(a.data){var f=a,e=f.data;a=0;for(b=e.length;a<b;++a)e[a]=e[a].fields||e[a],d=new c,q(d,e[a]),e[a]=d;s(f,this);return f}a=a.fields||a;d=new c;q(d,a);return this._formCircDeps(d)},_load:function(a,b){if(a){var c=l(arguments),d=!1;null!=c&&(d=!0,c=this._wrapAsync(c));c=e._ajax({method:"GET",url:a,isAsync:d,asyncHandler:c});return d?c:this._parseResponse(c)}},_replCircDeps:function(a){var b=
    [a],c,d=function(a){for(var e in a)if(a.hasOwnProperty(e)&&"object"==typeof a[e]&&null!=a[e])if(-1!=(c=b.indexOf(a[e]))){var k=b[c],l;if(!(l=b[c].__subID))for(var h=l="";36>h++;l+=51*h?(h^15?8^Math.random()*(h^20?16:4):4).toString(16):"-");k.__subID=l;a[e]={__originSubID:b[c].__subID}}else g.isDate(a[e])?a[e]=a[e].getTime():(b.push(a[e]),d(a[e]))};d(a)},_formCircDeps:function(a){var b={},c=new a.constructor,d=function(a,c){a.hasOwnProperty("__subID")&&(b[a.__subID]=c,delete a.__subID);for(var e in a)a.hasOwnProperty(e)&&
("object"==typeof a[e]&&null!=a[e]?a[e].hasOwnProperty("__originSubID")?c[e]=b[a[e].__originSubID]:(c[e]=new a[e].constructor,d(a[e],c[e])):c[e]=a[e])};d(a,c);return c},save:function(a,b){this._replCircDeps(a);var c=l(arguments),d=!1,f=this.restUrl,m=a;null!=c&&(d=!0,c=this._wrapAsync(c));c=e._ajax({method:"PUT",url:f,data:JSON.stringify(a),isAsync:d,asyncHandler:c});d||q(m,this._parseResponse(c));return d?c:this._parseResponse(c)},remove:function(a,b){if(!g.isObject(a)&&!g.isString(a))throw Error('Invalid value for the "value" argument. The argument must contain only string or object values');
    var c=l(arguments),d=!1;null!=c&&(d=!0,c=this._wrapAsync(c));g.isString(a)||a.objectId?(a=a.objectId||a,c=e._ajax({method:"DELETE",url:this.restUrl+"/"+a,isAsync:d,asyncHandler:c})):c=e._ajax({method:"DELETE",url:this.restUrl,data:JSON.stringify(a),isAsync:d,asyncHandler:c});return d?c:this._parseResponse(c)},find:function(a){a=a||{};var b,c,d,f=[],m=this.restUrl,k=l(arguments),g=null!=k;a.properties&&a.properties.length&&(b="props="+y(a.properties));a.condition&&(c="where="+encodeURIComponent(a.condition));
    a.options&&(d=this._extractQueryOptions(a.options));null!=k&&(k=this._wrapAsync(k));d&&f.push(d);c&&f.push(c);b&&f.push(b);f=f.join("&");a.url&&(m+="/"+a.url);f&&(m+="?"+f);b=e._ajax({method:"GET",url:m,isAsync:g,asyncHandler:k,cachePolicy:a.cachePolicy});return g?b:this._parseFindResponse(b)},_buildArgsObject:function(){for(var a={},b=arguments.length,c="";b--;)switch(c=Object.prototype.toString.call(arguments[b]).toLowerCase().match(/[a-z]+/g)[1],c){case "number":a.options=a.options||{};a.options.relationsDepth=
    arguments[b];break;case "string":a.url=arguments[b];break;case "array":a.options=a.options||{};a.options.relations=arguments[b];break;case "object":arguments[b].hasOwnProperty("cachePolicy")&&(a.cachePolicy=arguments[b].cachePolicy)}return a},findById:function(){var a;if(g.isString(arguments[0])){a=this._buildArgsObject.apply(this,arguments);if(!a.url)throw Error('missing argument "object ID" for method findById()');return this.find.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}if(g.isObject(arguments[0])){a=
    arguments[0];var b=l(arguments),c=this.restUrl,d=null!=b,f="/pk?",m;for(m in a)f+=m+"="+a[m]+"&";null!=b&&(b=this._wrapAsync(b));a="Object"==w.call(arguments[0])?e._ajax({method:"GET",url:c+f.replace(/&$/,""),isAsync:d,asyncHandler:b}):e._ajax({method:"PUT",url:c,data:JSON.stringify(a),isAsync:d,asyncHandler:b});return d?a:this._parseResponse(a)}throw Error('Invalid value for the "value" argument. The argument must contain only string or object values');},loadRelations:function(a,b){if(!a)throw Error("missing object argument for method loadRelations()");
    if(!g.isObject(a))throw Error('Invalid value for the "value" argument. The argument must contain only object values');var c=this.restUrl+"/relations";if(b)if(g.isArray(b))c="*"==b[0]?c+("?relationsDepth="+b.length):c+("?loadRelations="+b[0]+"&relationsDepth="+b.length);else throw Error('Invalid value for the "options" argument. The argument must contain only array values');c=e._ajax({method:"PUT",url:c,data:JSON.stringify(a)});q(a,c)},findFirst:function(){var a=this._buildArgsObject.apply(this,arguments);
    a.url="first";return this.find.apply(this,[a].concat(Array.prototype.slice.call(arguments)))},findLast:function(){var a=this._buildArgsObject.apply(this,arguments);a.url="last";return this.find.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}};var F={},Y={save:function(a,b,c){var d=l(arguments);if(g.isString(a))return e._ajax({method:"POST",url:e.appPath+"/data/"+a,data:JSON.stringify(b),isAsync:!1,asyncHandler:d});if(g.isObject(a))return(new z(a)).save(a,b,c)},of:function(a){var b=
    w.call(a),c=F[b];c||(c=new z(a),F[b]=c);return c},describe:function(a,b){a=g.isString(a)?a:w.call(a);var c=l(arguments);return e._ajax({method:"GET",url:e.appPath+"/data/"+a+"/properties",isAsync:null!=c,asyncHandler:c})}};G.prototype={___class:"Users"};e.User=G;var p=null,N=function(){this.restUrl=e.appPath+"/users"};N.prototype={_wrapAsync:function(a){var b=this;return new n(function(c){try{c=JSON.parse(c)}catch(d){}p=b._parseResponse(c);a.success(b._getUserFromResponse(p))},function(b){a.fault(b)})},
    _parseResponse:function(a){var b=new e.User;q(b,a);return b},register:function(a,b){if(!(a instanceof e.User))throw Error("Only Backendless.User accepted");var c=l(arguments),d=null!=c;c&&(c=this._wrapAsync(c));c=e._ajax({method:"POST",url:this.restUrl+"/register",isAsync:d,asyncHandler:c,data:JSON.stringify(a)});return d?c:this._parseResponse(c)},getUserRoles:function(a){var b=l(arguments),c=null!=b;b&&(b=this._wrapAsync(b));b=e._ajax({method:"GET",url:this.restUrl+"/userroles",isAsync:c,asyncHandler:b});
        return c?b:this._parseResponse(b)},roleHelper:function(a,b,c,d){if(!a)throw Error("Username can not be empty");if(!b)throw Error("Rolename can not be empty");var f=l(arguments),m=null!=f;f&&(f=this._wrapAsync(f));return e._ajax({method:"POST",url:this.restUrl+"/"+d,isAsync:m,asyncHandler:f,data:JSON.stringify({user:a,roleName:b})})},assignRole:function(a,b,c){return this.roleHelper(a,b,c,"assignRole")},unassignRole:function(a,b,c){return this.roleHelper(a,b,c,"unassignRole")},login:function(a,b,c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        d){if(!a)throw Error("Username can not be empty");if(!b)throw Error("Password can not be empty");e.LocalCache.set("stayLoggedIn",!1);g.isBoolean(c)&&e.LocalCache.set("stayLoggedIn",c);var f=l(arguments),m=null!=f;f&&(f=this._wrapAsync(f));f=e._ajax({method:"POST",url:this.restUrl+"/login",isAsync:m,asyncHandler:f,data:JSON.stringify({login:a,password:b})});if(m)return f;p=this._parseResponse(f);return this._getUserFromResponse(p)},_getUserFromResponse:function(a){var b=new e.User,c;for(c in a)a.hasOwnProperty(c)&&
    ("user-token"==c?e.LocalCache.get("stayLoggedIn")&&(e.LocalCache.set("user-token",a[c]),e.LocalCache.set("current-user",a)):b[c]=a[c]);return b},describeUserClass:function(a){var b=l(arguments);return e._ajax({method:"GET",url:this.restUrl+"/userclassprops",isAsync:null!=b,asyncHandler:b})},restorePassword:function(a,b){if(!a)throw"Username can not be empty";var c=l(arguments),d=null!=c;return e._ajax({method:"GET",url:this.restUrl+"/restorepassword/"+encodeURIComponent(a),isAsync:d,asyncHandler:c})},
    logout:function(a){var b=l(arguments),c=null!=b,d=c?b.fault:null,f=c?b.success:null,m=function(){e.LocalCache.remove("user-token");e.LocalCache.remove("current-user");p=null},k=function(){m();g.isFunction(f)&&f()},h=function(a){g.isObject(a)&&-1!=[3064,3091,3090,3023].indexOf(a.code)?(m(),g.isFunction(f)&&f()):g.isFunction(d)&&d(a)};b&&(b.fault=h,b.success=k);try{var n=e._ajax({method:"GET",url:this.restUrl+"/logout",isAsync:c,asyncHandler:b})}catch(W){h(W)}if(c)return n;m()},getCurrentUser:function(){return e.LocalCache.get("current-user")?
        e.LocalCache.get("current-user"):p?this._getUserFromResponse(p):null},update:function(a,b){if(!(a instanceof e.User))throw Error("Only Backendless.User accepted");var c=l(arguments),d=null!=c;c&&(c=this._wrapAsync(c));c=e._ajax({method:"PUT",url:this.restUrl+"/"+a.objectId,isAsync:d,asyncHandler:c,data:JSON.stringify(a)});return d?c:this._parseResponse(c)},loginWithFacebook:function(a,b,c,d){this._loginSocial("Facebook",a,b,c,d)},loginWithTwitter:function(a,b){this._loginSocial("Twitter",a,null,b,
        null)},_socialContainer:function(a,b){var c;if(b){var d;b=b[0];c=document.createElement("div");c.innerHTML="Loading...";b.appendChild(c);b.style.cursor="wait";this.closeContainer=function(){b.style.cursor="default";b.removeChild(d)};this.removeLoading=function(){b.removeChild(c)};this.doAuthorizationActivity=function(a){this.removeLoading();d=document.createElement("iframe");d.frameBorder=0;d.width=b.style.width;d.height=b.style.height;d.id="SocialAuthFrame";d.setAttribute("src",a+"&amp;output=embed");
        b.appendChild(d);d.onload=function(){b.style.cursor="default"}}}else b=window.open("",a+" authorization","height=250,width=450,scrollbars=0,toolbar=0,menubar=0,location=0,resizable=0,status=0,titlebar=0",!1),c=b.document.getElementsByTagName("body")[0].innerHTML,c="Loading...",b.document.getElementsByTagName("html")[0].style.cursor="wait",this.closeContainer=function(){b.close()},this.removeLoading=function(){c=null},this.doAuthorizationActivity=function(a){b.location.href=a;b.onload=function(){b.document.getElementsByTagName("html")[0].style.cursor=
        "default"}}},_loginSocial:function(a,b,c,d,f){var m=new this._socialContainer(a,f),k=l(arguments);k&&(k=this._wrapAsync(k));g.addEvent("message",window,function(a){a.origin==e.serverURL&&(a=JSON.parse(a.data),a.fault?k.fault(a.fault):(p=this.Backendless.UserService._parseResponse(a),k.success(this.Backendless.UserService._getUserFromResponse(p))),g.removeEvent("message",window),m.closeContainer())});var h=new e.Async(function(a){m.doAuthorizationActivity(a)},function(a){m.closeContainer();k.fault(a)}),
        n=b||c?{}:null;b&&(n.fieldsMapping=b);c&&(n.permissions=c);e._ajax({method:"POST",url:this.restUrl+"/social/oauth/"+a.toLowerCase()+"/request_url",isAsync:!0,asyncHandler:h,data:JSON.stringify(n)})},loginWithFacebookSdk:function(a,b){if(!FB)throw Error("Facebook SDK not found");var c=this;FB.getLoginStatus(function(d){"connected"===d.status?c._sendFacebookLoginRequest(c,d,a,b):FB.login(function(d){c._sendFacebookLoginRequest(c,d,a,b)})})},_sendFacebookLoginRequest:function(a,b,c,d){"connected"===
    b.status&&(b=b.authResponse,c&&(b.fieldsMapping=c),c=new e.Async(function(b){p=a._parseResponse(b);d.success(a._getUserFromResponse(p))},function(a){d.fault(a)}),e._ajax({method:"POST",url:a.restUrl+"/social/facebook/login/"+e.applicationId,isAsync:!0,asyncHandler:c,data:JSON.stringify(b)}))},isValidLogin:function(a){var b="",b=e.LocalCache,c=l(arguments),d=null!=c;c&&(c=this._wrapAsync(c));if(b.get("user-token"))if(b=b.get("user-token"),a)e._ajax({method:"GET",url:e.serverURL+"/"+e.appVersion+"/users/isvalidusertoken/"+
    b,isAsync:d,asyncHandler:c});else try{return e._ajax({method:"GET",url:e.serverURL+"/"+e.appVersion+"/users/isvalidusertoken/"+b})?!0:!1}catch(f){return!1}else return e.UserService.getCurrentUser()?!0:!1}};H.prototype={UNITS:{METERS:"METERS",KILOMETERS:"KILOMETERS",MILES:"MILES",YARDS:"YARDS",FEET:"FEET"},_wrapAsync:function(a){var b=this;return new n(function(c){c=b._parseResponse(c);a.success(c)},function(b){a.fault(b)})},_parseResponse:function(a){a=a.collection;s(a,this);return a},_load:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b){var c=l(arguments),d=null!=c,c=e._ajax({method:"GET",url:a,isAsync:d,asyncHandler:c});return d?c:this._parseResponse(c)},_findHelpers:{searchRectangle:function(a){return["nwlat="+a[0],"nwlon="+a[1],"selat="+a[2],"selon="+a[3]].join("&")},latitude:function(a){return"lat="+a},longitude:function(a){return"lon="+a},metadata:function(a){return"metadata="+JSON.stringify(a)},units:function(a){return"units="+a},radius:function(a){return"r="+a},categories:function(a){a=g.isString(a)?[a]:a;return"categories="+
    y(a)},includeMetadata:function(a){return"includemetadata="+a},pageSize:function(a){if(1>a||100<a)throw Error("PageSize can not be less then 1 or greater than 100");return"pagesize="+a},offset:function(a){if(0>a)throw Error("Offset can not be less then 0");return"offset="+a},relativeFindPercentThreshold:function(a){if(0>=a)throw Error("Threshold can not be less then or equal 0");return"relativeFindPercentThreshold="+a},relativeFindMetadata:function(a){return"relativeFindMetadata="+encodeURIComponent(JSON.stringify(a))},
    condition:function(a){return"whereClause="+encodeURIComponent(a)},degreePerPixel:function(a){return"dpp="+a},clusterGridSize:function(a){return"clustergridsize="+a}},addPoint:function(a,b){if(void 0===a.latitude||void 0===a.longitude)throw"Latitude or longitude not a number";a.categories=a.categories||["Default"];a.categories=g.isArray(a.categories)?a.categories:[a.categories];var c=l(arguments);if(null!=c)var d=!0;c=function(a){return new n(function(b){var c=b.geopoint,d=new GeoPoint;d.categories=
    c.categories;d.latitude=c.latitude;d.longitude=c.longitude;d.metadata=c.metadata;d.objectId=c.objectId;b.geopoint=d;a.success(b)},function(b){a.fault(b)})}(c);return e._ajax({method:"PUT",url:this.restUrl+"/points",data:JSON.stringify(a),isAsync:d,asyncHandler:c})},findUtil:function(a,b){var c=a.url,d=l(arguments),f=!1;if(a.searchRectangle&&a.radius)throw Error("Inconsistent geo query. Query should not contain both rectangle and radius search parameters.");if(!a.radius||void 0!==a.latitude&&void 0!==
    a.longitude)if(!a.relativeFindMetadata&&!a.relativeFindPercentThreshold||a.relativeFindMetadata&&a.relativeFindPercentThreshold){var c=c+(a.searchRectangle?"/rect?":"/points?"),c=c+(a.units?"units="+a.units:""),g;for(g in a)a.hasOwnProperty(g)&&(this._findHelpers.hasOwnProperty(g)&&void 0!=a[g])&&(c+="&"+this._findHelpers[g](a[g]))}else throw Error("Inconsistent geo query. Query should contain both relativeFindPercentThreshold and relativeFindMetadata or none of them");else throw Error("Latitude and longitude should be provided to search in radius");
    var c=c.replace(/\?&/g,"?"),k=this;null!=d&&(f=!0);d=function(b){return new n(function(c){for(var d=c.collection.data,e=0;e<d.length;e++){var f=null;d[e].hasOwnProperty("totalPoints")?(f=new GeoCluster,f.totalPoints=d[e].totalPoints,f.geoQuery=a):f=new GeoPoint;f.categories=d[e].categories;f.latitude=d[e].latitude;f.longitude=d[e].longitude;f.metadata=d[e].metadata;f.objectId=d[e].objectId;c.collection.data[e]=f}c=k._parseResponse(c);b.success(c)},function(a){b.fault(a)})}(d);c=e._ajax({method:"GET",
        url:c,isAsync:f,asyncHandler:d});return f?c:this._parseResponse(c)},find:function(a,b){a.url=this.restUrl;return this.findUtil(a,b)},loadMetadata:function(a){var b=this.restUrl+"/points/";if(a.objectId)if(a instanceof GeoCluster)if(a.geoQuery instanceof BackendlessGeoQuery){var b=b+(a.objectId+"/metadata?"),c;for(c in a.geoQuery)a.geoQuery.hasOwnProperty(c)&&(this._findHelpers.hasOwnProperty(c)&&void 0!=a.geoQuery[c])&&(b+="&"+this._findHelpers[c](a.geoQuery[c]))}else throw Error("Invalid GeoCluster object. Make sure to obtain an instance of GeoCluster using the Backendless.Geo.find API");
else if(a instanceof GeoPoint)b+=a.objectId+"/metadata";else throw Error("Method argument must be a valid instance of GeoPoint or GeoCluster persisted on the server");else throw Error("Method argument must be a valid instance of GeoPoint or GeoCluster persisted on the server");return e._ajax({method:"GET",url:b})},relativeFind:function(a,b){if(a.relativeFindMetadata&&a.relativeFindPercentThreshold)return a.url=this.restUrl+"/relative",this.findUtil(a,b);throw Error("Inconsistent geo query. Query should contain both relativeFindPercentThreshold and relativeFindMetadata");
},addCategory:function(a,b){if(!a)throw Error("Category name is required.");var c=l(arguments),c=e._ajax({method:"PUT",url:this.restUrl+"/categories/"+a,isAsync:null!=c,asyncHandler:c});return"undefined"===typeof c.result?c:c.result},getCategories:function(a){var b=l(arguments);return e._ajax({method:"GET",url:this.restUrl+"/categories",isAsync:null!=b,asyncHandler:b})},deleteCategory:function(a,b){if(!a)throw Error("Category name is required.");var c=l(arguments);try{var d=e._ajax({method:"DELETE",
    url:this.restUrl+"/categories/"+a,isAsync:null!=c,asyncHandler:c})}catch(f){if(404==f.statusCode)d=!1;else throw f;}return"undefined"===typeof d.result?d:d.result},deletePoint:function(a,b){if(!a||g.isFunction(a))throw Error("Point argument name is required, must be string (object Id), or point object");var c=g.isString(a)?a:a.objectId,d=l(arguments);try{var f=e._ajax({method:"DELETE",url:this.restUrl+"/points/"+c,isAsync:null!=d,asyncHandler:d})}catch(m){if(404==m.statusCode)f=!1;else throw m;}return"undefined"===
typeof f.result?f:f.result}};A.prototype={on:function(a,b){if(!a)throw Error("Event name not specified");if(!b)throw Error("Handler not specified");this.eventHandlers[a]=this.eventHandlers[a]||[];this.eventHandlers[a].push(b)},fireEvent:function(a,b){var c=this.eventHandlers[a]||[],d,e;e=0;for(d=c.length;e<d;++e)c[e](b)}};B.prototype=new A;q(B.prototype,{onMessage:function(a){clearTimeout(this.timeout);var b=this;this.timer=setTimeout(function(){b.poll()},this.interval);this.fireEvent("messageReceived",
    a)},poll:function(){var a=this;this.timeout=setTimeout(function(){a.onTimeout()},3E4);this.xhr=e._ajax({method:"GET",url:this.restUrl,isAsync:!0,asyncHandler:this.responder})},close:function(){clearTimeout(this.timer);clearTimeout(this.timeout);this.needReconnect=!1;this.xhr&&this.xhr.abort()},onTimeout:function(){this.xhr&&this.xhr.abort()},onError:function(){clearTimeout(this.timer);clearTimeout(this.timeout);if(this.needReconnect){var a=this;this.xhr=null;this.timer=setTimeout(function(){a.poll()},
    this.interval)}}});C.prototype=new A;q(C.prototype,{onMessage:function(){this.fireEvent("messageReceived",data)},onSocketClose:function(a){this.reconnectWithPolling&&this.fireEvent("socketClose",a)},close:function(){this.reconnectWithPolling=!1;this.socket.close()}});D.prototype={_subscribe:function(a){var b=l(arguments),c=null!=b,d=this,f=new n(function(a){d.subscriptionId=a.subscriptionId;d._startSubscription()},function(a){b.fault(a)}),f=e._ajax({method:"POST",url:this.restUrl+"/subscribe",isAsync:c,
    data:JSON.stringify(this.options),asyncHandler:f});c||(this.subscriptionId=f.subscriptionId,this._startSubscription())},_startSubscription:function(){var a=this;I?(this.proxy=new C(this.channelProperties.websocket+"/"+this.subscriptionId),this.proxy.on("socketClose",function(){a._switchToPolling()}),this.proxy.on("messageReceived",function(){a.responder()})):this._switchToPolling();this._startSubscription=u},cancelSubscription:function(){this.proxy&&this.proxy.close();this._startSubscription=u},_switchToPolling:function(){this.proxy=
    new B(this.restUrl+"/"+this.subscriptionId);var a=this;this.proxy.on("messageReceived",function(b){b.messages.length&&a.responder(b)})}};J.prototype={_getProperties:function(a,b){var c=l(arguments),d=null!=c,f=this.channelProperties[a];if(f)return d&&b.success(f),f;c=e._ajax({method:"GET",url:this.restUrl+"/"+a+"/properties",isAsync:d,asyncHandler:c});return this.channelProperties[a]=c},subscribe:function(a,b,c,d){var e=l(arguments);if(null!=e){var g=this,k=new n(function(k){d.success(new D({channelName:a,
    options:c,channelProperties:k,responder:b,restUrl:g.restUrl,onSubscribe:e}))},function(a){e.fault(a)});this._getProperties(a,k)}else return k=this._getProperties(a),new D({channelName:a,options:c,channelProperties:k,responder:b,restUrl:this.restUrl})},publish:function(a,b,c,d,f){var g=l(arguments),k=null!=g,h={message:b};if(c){if(!(c instanceof PublishOptions))throw"Use PublishOption as publishOptions argument";q(h,c)}if(d){if(!(d instanceof DeliveryOptions))throw"Use DeliveryOptions as deliveryTarget argument";
    q(h,d)}return e._ajax({method:"POST",url:this.restUrl+"/"+a,isAsync:k,asyncHandler:g,data:JSON.stringify(h)})},sendEmail:function(a,b,c,d,f){var h=l(arguments),k=null!=h,n={};if(a&&!g.isEmpty(a)&&g.isString(a))n.subject=a;else throw"Subject is required parameter and must be a nonempty string";if(b instanceof Bodyparts&&!g.isEmpty(b))n.bodyparts=b;else throw"Use Bodyparts as bodyParts argument, must contain at least one property";if(c&&g.isArray(c)&&!g.isEmpty(c))n.to=c;else throw"Recipients is required parameter, must be a nonempty array";
    if(d)if(g.isArray(d))g.isEmpty(d)||(n.attachment=d);else throw"Attachments must be an array of file IDs from File Service";return e._ajax({method:"POST",url:this.restUrl+"/email",isAsync:k,asyncHandler:h,data:JSON.stringify(n)})},cancel:function(a,b){return e._ajax({method:"DELETE",url:this.restUrl+"/"+a,isAsync:null!=b,asyncHandler:new n(u)})},registerDevice:function(a,b,c){var d=l(arguments),f=null!=d,m=h()?window.device:NodeDevice,k={deviceToken:null,deviceId:m.uuid,os:m.platform,osVersion:m.version};
    g.isArray(a)&&(k.channels=a);for(var m=0,n=arguments.length;m<n;++m){var p=arguments[m];if(g.isNumber(p)||p instanceof Date)k.expiration=p instanceof Date?p.getTime()/1E3:p}var q=this.restUrl+"/registrations";cordova.exec(function(a){k.deviceToken=a;e._ajax({method:"POST",url:q,data:JSON.stringify(k),isAsync:f,asyncHandler:d})},function(a){console.warn(JSON.stringify(["failed to register ",a]))},"PushNotification","registerDevice",[{projectid:"http://backendless.com",appid:e.applicationId}])},getRegistrations:function(a){var b=
    h()?window.device.uuid:NodeDevice.uuid,c=l(arguments);return e._ajax({method:"GET",url:this.restUrl+"/registrations/"+b,isAsync:null!=c,asyncHandler:c})},unregisterDevice:function(a){var b=h()?window.device.uuid:NodeDevice.uuid,c=l(arguments),b=e._ajax({method:"DELETE",url:this.restUrl+"/registrations/"+b,isAsync:null!=c,asyncHandler:c});try{cordova.exec(u,u,"PushNotification","unregisterDevice",[])}catch(d){console.log(d.message)}return b}};L.prototype={saveFile:function(a,b,c,d,f){if(!a||!g.isString(a))throw Error('Missing value for the "path" argument. The argument must contain a string value');
    if(!b||!g.isString(a))throw Error('Missing value for the "fileName" argument. The argument must contain a string value');d instanceof e.Async&&(f=d,d=null);c instanceof File||(c=new Blob([c]));if(28E5<c.size)throw Error("File Content size must be less than 2,800,000 bytes");a=this.restUrl+"/binary/"+a+(g.isString(b)?"/"+b:"")+(d?"?overwrite=true":"");try{var h=new FileReader;h.fileName=b;h.uploadPath=a;h.onloadend=S;f&&(h.asyncHandler=f);h.onerror=function(a){f.fault(a)};h.readAsDataURL(c);if(!f)return!0}catch(k){console.log(k)}},
    upload:function(a,b,c){a=a.files||a;b=this.restUrl+"/"+b+"/";if(h())if(window.File&&window.FileList){a instanceof File&&(a=[a]);for(var d=0,e=0,g=a.length;e<g;e++)try{var k=new FileReader;k.fileName=a[e].name;k.uploadPath=b+k.fileName;k.onloadend=R;k.asyncHandler=c;k.onerror=function(a){c.fault(a)};k.readAsBinaryString(a[e])}catch(l){d++}}else d=document.createElement("iframe"),d.id=d.name="ifr"+(new Date).getTime(),d.width=d.height="0",document.body.appendChild(d),k=document.createElement("form"),
        k.target=d.name,k.enctype="multipart/form-data",k.method="POST",document.body.appendChild(k),k.appendChild(a),a=a.value,(d=a.lastIndexOf("\\"))&&(a=a.substring(d+1)),k.action=b+a,k.submit();else throw"Upload File not supported with NodeJS";},remove:function(a,b){var c=l(arguments),d=null!=c,f=0==a.indexOf("http://")||0==a.indexOf("https://")?a:this.restUrl+"/"+a;e._ajax({method:"DELETE",url:f,isAsync:d,asyncHandler:c})},removeDirectory:function(a,b){var c=l(arguments);e._ajax({method:"DELETE",url:this.restUrl+
    "/"+a,isAsync:null!=c,asyncHandler:c})}};x.prototype._wrapAsync=function(a){return new n(function(b){a.success(b)},function(b){a.fault(b)})};x.prototype.validatePlayPurchase=function(a,b,c,d){if(3>arguments.length)throw Error("Package Name, Product Id, Token must be provided and must be not an empty STRING!");for(var f=arguments.length-2;0<=f;f--)if(!arguments[f]||!g.isString(arguments[f]))throw Error("Package Name, Product Id, Token must be provided and must be not an empty STRING!");var f=l(arguments),
    h=null!=f;f&&(f=this._wrapAsync(f));return e._ajax({method:"GET",url:this.restUrl+"/validate/"+a+"/inapp/"+b+"/purchases/"+c,isAsync:h,asyncHandler:f})};x.prototype.cancelPlaySubscription=function(a,b,c,d){if(3>arguments.length)throw Error("Package Name, Subscription Id, Token must be provided and must be not an empty STRING!");for(var f=arguments.length-2;0<=f;f--)if(!arguments[f]||!g.isString(arguments[f]))throw Error("Package Name, Subscription Id, Token must be provided and must be not an empty STRING!");
    var f=l(arguments),h=null!=f;f&&(f=this._wrapAsync(f));return e._ajax({method:"POST",url:this.restUrl+"/"+a+"/subscription/"+b+"/purchases/"+c+"/cancel",isAsync:h,asyncHandler:f})};x.prototype.getPlaySubscriptionStatus=function(a,b,c,d){if(3>arguments.length)throw Error("Package Name, Subscription Id, Token must be provided and must be not an empty STRING!");for(var f=arguments.length-2;0<=f;f--)if(!arguments[f]||!g.isString(arguments[f]))throw Error("Package Name, Subscription Id, Token must be provided and must be not an empty STRING!");
    var f=l(arguments),h=null!=f;f&&(f=this._wrapAsync(f));return e._ajax({method:"GET",url:this.restUrl+"/"+a+"/subscription/"+b+"/purchases/"+c,isAsync:h,asyncHandler:f})};E.prototype._wrapAsync=function(a){return new n(function(b){a.success(b)},function(b){a.fault(b)})};E.prototype.dispatch=function(a,b,c){if(!a||!g.isString(a))throw Error("Event Name must be provided and must be not an empty STRING!");b=g.isObject(b)?b:{};var d=l(arguments),f=null!=d;d&&(d=this._wrapAsync(d));b=b instanceof e.Async?
{}:b;return e._ajax({method:"POST",url:this.restUrl+"/"+a,data:JSON.stringify(b),isAsync:f,asyncHandler:d})};var O=function(){},P=[];O.prototype={_wrapAsync:function(a){var b=this;return new n(function(c){c=b._parseResponse(c);a.success(c)},function(b){a.fault(b)})},_parseResponse:function(a){return a},put:function(a,b,c,d){if(!g.isString(a))throw Error("You can use only String as key to put into Cache");if(c)if("object"==typeof c&&!d)d=c,c=null;else if("number"!=typeof c)throw Error("You can use only String as timeToLive attribute to put into Cache");
    d=l([b,d]);var f=!1;null!=d&&(f=!0,d=this._wrapAsync(d));g.isObject(b)&&b.constructor!==Object&&(b.___class=b.___class||w.call(b));return e._ajax({method:"PUT",url:e.serverURL+"/"+e.appVersion+"/cache/"+a+(c?"?timeout="+c:""),data:JSON.stringify(b),isAsync:f,asyncHandler:d})},expireIn:function(a,b,c){if(g.isString(a)&&(g.isNumber(b)||g.isDate(b))&&b){b=g.isDate(b)?b.getTime():b;var d=l(arguments),f=!1;null!=d&&(f=!0,d=this._wrapAsync(d));return e._ajax({method:"PUT",url:e.serverURL+"/"+e.appVersion+
"/cache/"+a+"/expireIn?timeout="+b,data:JSON.stringify({}),isAsync:f,asyncHandler:d})}throw Error('The "key" argument must be String. The "seconds" argument can be either Number or Date');},expireAt:function(a,b,c){if(g.isString(a)&&(g.isNumber(b)||g.isDate(b))&&b){b=g.isDate(b)?b.getTime():b;var d=l(arguments),f=!1;null!=d&&(f=!0,d=this._wrapAsync(d));return e._ajax({method:"PUT",url:e.serverURL+"/"+e.appVersion+"/cache/"+a+"/expireAt?timestamp="+b,data:JSON.stringify({}),isAsync:f,asyncHandler:d})}throw Error("You can use only String as key while expire in Cache. Second attribute must be declared and must be a Number or Date type");
},cacheMethod:function(a,b,c,d){if(!g.isString(b))throw Error('The "key" argument must be String');var f=l(arguments),h=!1;null!=f&&(h=!0,f=this._wrapAsync(f));return e._ajax({method:a,url:e.serverURL+"/"+e.appVersion+"/cache/"+b+(c?"/check":""),isAsync:h,asyncHandler:f})},contains:function(a,b){return this.cacheMethod("GET",a,!0,b)},get:function(a,b){if(!g.isString(a))throw Error('The "key" argument must be String');var c=l(arguments),d=!1;null!=c&&(d=!0,c=this._wrapAsync(c));c=e._ajax({method:"GET",
    url:e.serverURL+"/"+e.appVersion+"/cache/"+a,isAsync:d,asyncHandler:c});if(g.isObject(c)&&c.___class){var f;try{f=new (eval(c.___class))(c)}catch(h){f=new P[c.___class](c)}return f}return c},remove:function(a,b){return this.cacheMethod("DELETE",a,!1,b)},setObjectFactory:function(a,b){P[a]=b}};var r=function(){},Q=function(a){this.name=a};r.prototype={_wrapAsync:function(a){var b=this;return new n(function(c){c=b._parseResponse(c);a.success(c)},function(b){a.fault(b)})},_parseResponse:function(a){return a},
    of:function(a){return new Q(a)},getConstructor:function(){return this},counterNameValidation:function(a,b){if(!a)throw Error('Missing value for the "counterName" argument. The argument must contain a string value.');if(!g.isString(a))throw Error('Invalid value for the "value" argument. The argument must contain only string values');this.name=a},implementMethod:function(a,b,c){var d=l(arguments),f=!1;null!=d&&(f=!0,d=this._wrapAsync(d));return e._ajax({method:a,url:e.serverURL+"/"+e.appVersion+"/counters/"+
    this.name+b,isAsync:f,asyncHandler:d})},incrementAndGet:function(a,b){this.counterNameValidation(a,b);return this.implementMethod("PUT","/increment/get",b)},getAndIncrement:function(a,b){this.counterNameValidation(a,b);return this.implementMethod("PUT","/get/increment",b)},decrementAndGet:function(a,b){this.counterNameValidation(a,b);return this.implementMethod("PUT","/decrement/get",b)},getAndDecrement:function(a,b){this.counterNameValidation(a,b);return this.implementMethod("PUT","/get/decrement",
        b)},reset:function(a,b){this.counterNameValidation(a,b);return this.implementMethod("PUT","/reset",b)},get:function(a,b){this.counterNameValidation(a,b);var c=l(arguments),d=!1;null!=c&&(d=!0,c=this._wrapAsync(c));return e._ajax({method:"GET",url:e.serverURL+"/"+e.appVersion+"/counters/"+this.name,isAsync:d,asyncHandler:c})},implementMethodWithValue:function(a,b,c){if(!b)throw Error('Missing value for the "value" argument. The argument must contain a numeric value.');if(!g.isNumber(b))throw Error('Invalid value for the "value" argument. The argument must contain only numeric values');
        var d=l(arguments),f=!1;null!=d&&(f=!0,d=this._wrapAsync(d));return e._ajax({method:"PUT",url:e.serverURL+"/"+e.appVersion+"/counters/"+this.name+a+(b?b:""),isAsync:f,asyncHandler:d})},addAndGet:function(a,b,c){this.counterNameValidation(a,c);return this.implementMethodWithValue("/get/incrementby?value=",b,c)},getAndAdd:function(a,b,c){this.counterNameValidation(a,c);return this.implementMethodWithValue("/incrementby/get?value=",b,c)},compareAndSet:function(a,b,c,d){this.counterNameValidation(a,d);
        if(!b||!c)throw Error('Missing values for the "expected" and/or "updated" arguments. The arguments must contain numeric values');if(!g.isNumber(b)||!g.isNumber(c))throw Error('Missing value for the "expected" and/or "updated" arguments. The arguments must contain a numeric value');var f=l(arguments),h=!1;null!=f&&(h=!0,f=this._wrapAsync(f));return e._ajax({method:"PUT",url:e.serverURL+"/"+e.appVersion+"/counters/"+this.name+"/get/compareandset?expected="+(b&&c?b+"&updatedvalue="+c:""),isAsync:h,asyncHandler:f})}};
    Q.prototype={incrementAndGet:function(a){return r.prototype.getConstructor().incrementAndGet(this.name,a)},getAndIncrement:function(a){return r.prototype.getConstructor().getAndIncrement(this.name,a)},decrementAndGet:function(a){return r.prototype.getConstructor().decrementAndGet(this.name,a)},getAndDecrement:function(a){return r.prototype.getConstructor().getAndDecrement(this.name,a)},reset:function(a){return r.prototype.getConstructor().reset(this.name,a)},get:function(a){return r.prototype.getConstructor().get(this.name,
        a)},addAndGet:function(a,b){return r.prototype.getConstructor().addAndGet(this.name,a,b)},getAndAdd:function(a,b){return r.prototype.getConstructor().getAndAdd(this.name,a,b)},compareAndSet:function(a,b,c){return r.prototype.getConstructor().getAndAdd(this.name,a,b,c)}};e.initApp=function(a,b,c){e.applicationId=a;e.secretKey=b;e.appVersion=c;e.appPath=[e.serverURL,e.appVersion].join("/");e.UserService=new N;e.Geo=new H;e.Persistence=Y;e.Messaging=new J;e.Files=new L;e.Commerce=new x;e.Events=new E;
        e.Cache=new O;e.Counters=new r;F={};p=null};h()||(module.exports=e)})();var BackendlessGeoQuery=function(){this.searchRectangle=void 0;this.categories=[];this.includeMetadata=!0;this.clusterGridSize=this.degreePerPixel=this.units=this.radius=this.longitude=this.latitude=this.pageSize=this.relativeFindPercentThreshold=this.relativeFindMetadata=this.condition=this.metadata=void 0};
BackendlessGeoQuery.prototype={addCategory:function(){this.categories=this.categories||[];this.categories.push()},setClusteringParams:function(h,s,n,t){t=t||0;h=parseFloat(h);s=parseFloat(s);n=parseInt(n);t=parseInt(t);if(!isFinite(h)||-180>h||180<h)throw Error("The westLongitude value must be a number in the range between -180 and 180");if(!isFinite(s)||-180>s||180<s)throw Error("The eastLongitude value must be a number in the range between -180 and 180");if(!isFinite(n)||1>n)throw Error("The mapWidth value must be a number greater or equal to 1");
    if(!isFinite(t)||0>t)throw Error("The clusterGridSize value must be a number greater or equal to 0");h=s-h;0>h&&(h+=360);this.degreePerPixel=h/n;this.clusterGridSize=t||null}};
var GeoPoint=function(){this.___class="GeoPoint";this.objectId=this.metadata=this.longitude=this.latitude=this.categories=void 0},GeoCluster=function(){this.geoQuery=this.totalPoints=this.objectId=this.metadata=this.longitude=this.latitude=this.categories=void 0},PublishOptionsHeaders={MESSAGE_TAG:"message",IOS_ALERT_TAG:"ios-alert",IOS_BADGE_TAG:"ios-badge",IOS_SOUND_TAG:"ios-sound",ANDROID_TICKER_TEXT_TAG:"android-ticker-text",ANDROID_CONTENT_TITLE_TAG:"android-content-title",ANDROID_CONTENT_TEXT_TAG:"android-content-text",
        ANDROID_ACTION_TAG:"android-action",WP_TYPE_TAG:"wp-type",WP_TITLE_TAG:"wp-title",WP_TOAST_SUBTITLE_TAG:"wp-subtitle",WP_TOAST_PARAMETER_TAG:"wp-parameter",WP_TILE_BACKGROUND_IMAGE:"wp-backgroundImage",WP_TILE_COUNT:"wp-count",WP_TILE_BACK_TITLE:"wp-backTitle",WP_TILE_BACK_BACKGROUND_IMAGE:"wp-backImage",WP_TILE_BACK_CONTENT:"wp-backContent",WP_RAW_DATA:"wp-raw"},PublishOptions=function(h){h=h||{};this.publisherId=h.publisherId||void 0;this.headers=h.headers||void 0;this.subtopic=h.subtopic||void 0},
    DeliveryOptions=function(h){h=h||{};this.pushPolicy=h.pushPolicy||void 0;this.pushBroadcast=h.pushBroadcast||void 0;this.pushSinglecast=h.pushSinglecast||void 0;this.publishAt=h.publishAt||void 0;this.repeatEvery=h.repeatEvery||void 0;this.repeatExpiresAt=h.repeatExpiresAt||void 0},Bodyparts=function(h){h=h||{};this.textmessage=h.textmessage||void 0;this.htmlmessage=h.htmlmessage||void 0},SubscriptionOptions=function(h){h=h||{};this.subscriberId=h.subscriberId||void 0;this.subtopic=h.subtopic||void 0;
        this.selector=h.selector||void 0};
